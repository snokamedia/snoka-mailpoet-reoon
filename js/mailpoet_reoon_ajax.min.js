document.addEventListener("DOMContentLoaded",function(){var e=document.getElementById("mailpoet_reoon_submit"),s=document.getElementById("mailpoet_reoon_message");e.addEventListener("click",function(e){e.preventDefault(),s.classList.add("processing-message"),s.innerHTML="Checking email";var o=document.getElementById("mailpoet_reoon_form"),a=new FormData(o),n=document.getElementById("mailpoet_reoon_form_nonce");if(n){var r=n.value;a.append("mailpoet_reoon_form_nonce",r)}a.append("g-recaptcha-response",document.getElementById("mailpoet_reoon_recaptcha").querySelector(".g-recaptcha-response").value),a.append("action","process_mailpoet_reoon_form"),fetch(mailpoet_reoon_ajax_object.ajax_url,{method:"POST",body:a}).then(e=>e.json()).then(e=>{e.success?(s.classList.remove("processing-message"),s.classList.add("success-message"),s.innerHTML=e.data.message):(s.classList.remove("processing-message"),s.classList.add("error-message"),s.innerHTML=e.data.message)}).catch(e=>{s.classList.remove("processing-message"),console.error("Error:",e),s.innerHTML="An error occurred: "+e.message,s.classList.add("error-message")})})});